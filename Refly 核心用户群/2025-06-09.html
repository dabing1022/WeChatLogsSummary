<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Refly AI ç¾¤èŠæ—¥æŠ¥ - 2025-06-09</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jsmind@latest/js/jsmind.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/jsmind@latest/style/jsmind.css">
    <style>
        :root {
            --bg-color: #ffffff;
            --card-bg-color: #f8f9fa;
            --text-color: #343a40;
            --title-color: #212529;
            --primary-accent-color: #ff6600;
            --subtle-text-color: #6c757d;
            --border-color: #dee2e6;
            --grid-gap: 16px;
        }

        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@400;500;700&display=swap');

        body {
            background-color: var(--bg-color);
            color: var(--text-color);
            font-family: 'Noto Sans SC', 'SF Pro Display', 'Segoe UI', 'Helvetica Neue', Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            padding: var(--grid-gap);
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
        }

        .bento-grid {
            display: grid;
            gap: var(--grid-gap);
            grid-template-columns: repeat(6, 1fr);
            grid-auto-rows: minmax(100px, auto);
        }

        .card {
            background-color: var(--card-bg-color);
            border-radius: 12px;
            padding: 24px;
            overflow: hidden;
            position: relative;
            display: flex;
            flex-direction: column;
            border: 1px solid var(--border-color);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .card:hover {
            transform: translateY(-4px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.08);
        }
        
        .content-wrapper {
            z-index: 2;
            position: relative;
            height: 100%;
            display: flex;
            flex-direction: column;
        }
        
        .card-icon-bg {
            position: absolute;
            right: -20px;
            bottom: -20px;
            font-size: 100px;
            color: var(--primary-accent-color);
            opacity: 0.08;
            z-index: 1;
            transform: rotate(-15deg);
        }

        .card-title {
            font-size: 1.5rem; /* 24px */
            font-weight: 700;
            color: var(--title-color);
            margin-bottom: 16px;
        }

        .main-card {
            grid-column: 1 / -1;
            padding: 40px;
            text-align: center;
        }
        .main-card .card-title {
            font-size: 2.5rem; /* 40px */
            color: var(--primary-accent-color);
        }

        .stat-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 20px;
            margin-top: 24px;
        }
        .stat-item { text-align: center; }
        .stat-item .value { font-size: 2rem; font-weight: 700; color: var(--title-color); }
        .stat-item .label { font-size: 0.9rem; color: var(--subtle-text-color); margin-top: 4px; }

        .export-btn {
            position: absolute;
            top: 20px;
            right: 20px;
            background-color: var(--primary-accent-color);
            color: white;
            padding: 8px 16px;
            border-radius: 8px;
            font-weight: 500;
            cursor: pointer;
            transition: background-color 0.2s;
            border: none;
        }
        .export-btn:hover { background-color: #e65c00; }
        
        .tag {
            display: inline-block;
            background-color: rgba(255, 102, 0, 0.1);
            color: var(--primary-accent-color);
            padding: 4px 10px;
            border-radius: 16px;
            font-size: 0.8rem;
            font-weight: 500;
            margin-right: 8px;
            margin-bottom: 8px;
        }

        .hot-topic .summary { margin: 12px 0; line-height: 1.6; }
        
        .dialogue-box {
            background: var(--bg-color);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 12px;
        }
        .dialogue-box p { margin: 0; }
        .dialogue-box .user { font-weight: 700; color: var(--primary-accent-color); }
        
        .issue-card .issue-item { border-left: 3px solid var(--primary-accent-color); padding-left: 12px; margin-bottom: 16px; }
        .issue-card .issue-type { font-weight: 700; }
        .issue-card .issue-meta { font-size: 0.85rem; color: var(--subtle-text-color); }
        
        .mindmap-card {
            grid-column: 1 / -1;
            min-height: 450px;
            padding: 0;
            display: flex;
            flex-direction: column;
        }
        .mindmap-card .content-wrapper { padding: 24px; }
        #mindmap {
            width: 100%;
            height: calc(100% - 40px); /* Adjust height based on title height */
            flex-grow: 1;
        }
        .mindmap-fullscreen-btn {
            position: absolute; top: 16px; right: 16px; z-index: 10;
            background: rgba(255,255,255,0.8); backdrop-filter: blur(5px);
            border: 1px solid var(--border-color); border-radius: 8px;
            padding: 6px 12px; cursor: pointer;
        }
        
        .mindmap-fullscreen-container {
            position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
            background-color: var(--bg-color); z-index: 9998;
            display: none; flex-direction: column; padding: 20px;
        }
        .mindmap-fullscreen-container.active { display: flex; }
        .mindmap-fullscreen-container .fullscreen-title { text-align: center; font-size: 1.5rem; margin-bottom: 10px; color: var(--title-color); }
        #mindmap_fullscreen { width: 100%; height: 100%; flex-grow: 1; }
        
        .important-msg-item { display: flex; align-items: flex-start; margin-bottom: 16px; }
        .priority { padding: 4px 8px; border-radius: 6px; color: white; margin-right: 12px; font-size: 0.8rem; }
        .priority.high { background-color: #dc3545; }
        .priority.medium { background-color: #ffc107; color: black;}
        .priority.low { background-color: #17a2b8; }
        .msg-content { flex-grow: 1; }
        .msg-meta { font-size: 0.85rem; color: var(--subtle-text-color); }
        
        .resource-link {
            display: block;
            background: var(--bg-color);
            padding: 12px;
            border-radius: 8px;
            margin-bottom: 12px;
            text-decoration: none;
            color: inherit;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        .resource-link:hover { transform: scale(1.02); box-shadow: 0 4px 12px rgba(0,0,0,0.06); }
        .resource-link .title { font-weight: 700; color: var(--primary-accent-color); }
        .resource-link .details { font-size: 0.9rem; margin-top: 8px; }
        
        .chatter-list .chatter-item { display: flex; align-items: center; margin-bottom: 12px; }
        .chatter-item .rank { font-size: 1.2rem; font-weight: 700; color: var(--primary-accent-color); width: 30px; }
        .chatter-item .nickname { font-weight: 500; flex-grow: 1; }
        .chatter-item .msg-count { color: var(--subtle-text-color); }

        .wordcloud-card { grid-column: span 2; min-height: 300px; }
        .css-wordcloud {
            display: flex; flex-wrap: wrap; justify-content: center; align-items: center;
            gap: 10px; padding: 15px; min-height: 250px; width: 100%;
        }
        .word-item {
            display: inline-block; padding: 5px; font-weight: 500;
            transition: transform 0.3s ease, color 0.3s ease;
            color: var(--text-color); opacity: 0.9;
        }
        .word-item:hover { transform: scale(1.1); color: var(--primary-accent-color); opacity: 1; cursor: default; }

        .qrcode-card { grid-column: span 2; }
        .qrcode-container { display: flex; justify-content: space-around; align-items: center; height: 100%; gap: 16px; }
        .qrcode-item { text-align: center; }
        .qrcode-item #qrcode-yesterday, .qrcode-item #qrcode-today { display: flex; justify-content: center; align-items: center; background: white; padding: 10px; border-radius: 8px; border: 1px solid var(--border-color); }
        .qrcode-item p { margin-top: 10px; font-size: 0.9rem; color: var(--subtle-text-color); }

        jmnode {
            background-color: var(--card-bg-color) !important;
            color: var(--text-color) !important;
            border: 1px solid var(--primary-accent-color) !important;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1) !important;
            border-radius: 6px !important;
            padding: 8px 14px !important;
            font-family: 'Noto Sans SC', sans-serif !important;
        }
        jmnode.selected {
            background-color: var(--primary-accent-color) !important;
            color: #fff !important;
        }
        jmnode:hover {
             box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
        }
        jmexpander {
            border-color: var(--primary-accent-color) !important;
        }


        @media (max-width: 768px) {
            body { padding: 10px; --grid-gap: 10px; }
            .card { padding: 16px; }
            .card-title { font-size: 1.25rem; }
            .main-card .card-title { font-size: 2rem; }
            .main-card { padding: 24px; }
            .export-btn { top: 12px; right: 12px; padding: 6px 10px; font-size: 0.8rem; }
            
            .bento-grid {
                grid-template-columns: 1fr;
            }
            .main-card, .hot-topics-card, .little-theater-card, .issue-card, .mindmap-card, .important-msg-card, .resources-card, .chatter-card, .wordcloud-card, .qrcode-card {
                grid-column: 1 / -1 !important;
            }
        }
        
        .grid-col-span-2 { grid-column: span 2; }
        .grid-col-span-3 { grid-column: span 3; }
        .grid-col-span-4 { grid-column: span 4; }
        .grid-col-span-6 { grid-column: 1 / -1; }

    </style>
</head>
<body>

<div class="container">
    <div class="bento-grid" id="daily-report-content">
        
        <!-- ç¾¤èŠæ€»ç»“ -->
        <div class="card main-card">
            <button class="export-btn" onclick="exportReportImage()"><i class="fas fa-camera"></i> å¯¼å‡ºå›¾ç‰‡</button>
            <div class="content-wrapper">
                <h1 class="card-title">Refly AI ç¾¤èŠæ—¥æŠ¥</h1>
                <p class="text-lg text-gray-600 mt-2">ä»Šå¤©æ˜¯å·¥å…·ä¸æ€æƒ³ç¢°æ’çš„ä¸€å¤©ã€‚ä»å®ç”¨çš„æç¤ºè¯ç®¡ç†ï¼Œåˆ°å¯¹ Refly æœªæ¥çš„ç•…æƒ³ï¼Œå†åˆ°å„ç§æ–°å¥‡å·¥å…·çš„åˆ†äº«ï¼Œç¾¤å‹ä»¬çš„æ™ºæ…§ä¸çƒ­æƒ…ç‚¹ç‡ƒäº†æ•´ä¸ªç¤¾ç¾¤ã€‚</p>
                <div class="stat-grid">
                    <div class="stat-item">
                        <div class="value">260+</div>
                        <div class="label">æ¶ˆæ¯æ•°é‡</div>
                    </div>
                    <div class="stat-item">
                        <div class="value">25</div>
                        <div class="label">æ´»è·ƒäººå‘˜</div>
                    </div>
                    <div class="stat-item">
                        <div class="value">5</div>
                        <div class="label">çƒ­ç‚¹è¯é¢˜</div>
                    </div>
                    <div class="stat-item">
                        <div class="value">08:29-22:30</div>
                        <div class="label">ç»Ÿè®¡æ—¶æ®µ (06-09)</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ä»Šæ—¥çƒ­ç‚¹ -->
        <div class="card hot-topics-card grid-col-span-3">
            <div class="card-icon-bg"><i class="fas fa-fire"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">ä»Šæ—¥çƒ­ç‚¹</h2>
                <div class="hot-topic">
                    <div class="tag">æç¤ºè¯ç®¡ç†</div>
                    <p class="summary">å¦‚ä½•é«˜æ•ˆç®¡ç†æ—¥æ¸å¢å¤šçš„æç¤ºè¯æˆä¸ºä»Šæ—¥ç„¦ç‚¹ã€‚ä»`ä¸”å¬`åˆ†äº«çš„é£ä¹¦æ’ä»¶ï¼Œåˆ°`Fann`çš„æ·±åº¦æ€è€ƒï¼Œå†åˆ° Raycastã€uTools ç­‰å·¥å…·çš„è®¨è®ºï¼Œå¤§å®¶ä¸€è‡´è®¤ä¸ºä¸€ä¸ªå®‰å…¨ã€ä¾¿æ·ã€è·¨å¹³å°çš„ç®¡ç†æ–¹æ¡ˆè‡³å…³é‡è¦ã€‚`gemini`ç”Ÿæˆçš„æ·±åº¦åˆ†ææŠ¥å‘Šæ›´æ˜¯å°†è®¨è®ºæ¨å‘é«˜æ½®ã€‚</p>
                    <p class="text-sm text-gray-500"><strong>å…³é”®è¯:</strong> æç¤ºè¯ç®¡ç†, æ’ä»¶, Blinko, Raycast, é£ä¹¦</p>
                </div>
                <div class="hot-topic mt-4">
                    <div class="tag">äº§å“æ€è€ƒ</div>
                    <p class="summary">å›´ç»• Refly çš„æœªæ¥ï¼Œç¾¤å‹ä»¬çŒ®è®¡çŒ®ç­–ã€‚`logo`åˆ†äº«çš„ Boardmix AI ç™½æ¿åŠŸèƒ½æ¿€å‘äº†å¯¹ Refly äº¤äº’åˆ›æ–°çš„æƒ³è±¡ã€‚Tom æƒŠå–œç°èº«ï¼Œé¢„å‘Š"ç„•æ–° Reflyï¼Œä¸€é£å†²å¤©"ï¼ŒåŠè¶³äº†å¤§å®¶çš„èƒƒå£ã€‚æ°¸ä¹…ä¼šå‘˜å’ŒUIä¼˜åŒ–å†æ¬¡æˆä¸ºç¤¾åŒºçƒ­é—¨æœŸç›¼ã€‚</p>
                    <p class="text-sm text-gray-500"><strong>å…³é”®è¯:</strong> Refly, ç„•æ–°, Agent, æ€ç»´å¯¼å›¾, æ°¸ä¹…ä¼šå‘˜</p>
                </div>
            </div>
        </div>

        <!-- å°å‰§åœº -->
        <div class="card little-theater-card grid-col-span-3">
            <div class="card-icon-bg"><i class="fas fa-theater-masks"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">å°å‰§åœº</h2>
                <div class="dialogue-box">
                    <p><span class="user">Peng:</span> æˆ‘å„¿å­åœ¨ç”¨ tareï¼Œæˆ‘å„¿å­éƒ½è¯´åƒåœ¾ã€‚</p>
                    <p><span class="user">æ­¦æ±‰-æœ¨å­ä¸æ˜¯æœ¨å­ç‹¸:</span> è¿˜æ˜¯ä¸å¾—ä¸ç”¨[æ‚è„¸] æ¯•ç«Ÿå…è´¹</p>
                    <p><span class="user">Peng:</span> æˆ‘èŠ±äº†3ç¾å…ƒä¹°äº†ä¸€ä¸ªæœˆ</p>
                </div>
                <div class="dialogue-box">
                    <p><span class="user">Time will tell:</span> è¢«åšå±€äº†ï¼Œè¶é›¨å°å¾€å‡ºèµ°...è¿˜æ²¡èµ°å‡º1/3å‘¢ï¼Œçªç„¶å°±å˜æˆæš´é›¨äº†ã€‚</p>
                    <p><span class="user">Time will tell:</span> ä½“éªŒäº†ä¸€æŠŠï¼Œå†·å†·çš„å†°é›¨åœ¨èº«ä¸Šèƒ¡ä¹±çš„æ‹ã€‚</p>
                </div>
                <div class="mt-4">
                    <span class="tag">ç»å…¸è¯­å½• ğŸ†</span> "æˆ‘å„¿å­éƒ½è¯´åƒåœ¾" - Peng
                    <br>
                    <span class="tag">æ¢—ç‹ ğŸ‘‘</span> Time will tell (ç”ŸåŠ¨æç»˜é›¨ä¸­å›§å¢ƒ)
                </div>
            </div>
        </div>
        
        <!-- æˆ‘è¦æ issue -->
        <div class="card issue-card grid-col-span-6">
            <div class="card-icon-bg"><i class="fas fa-tasks"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">æˆ‘è¦æ Issue</h2>
                <div class="issue-item">
                    <span class="tag issue-type">enhancement</span>
                    <p><strong>é—®é¢˜ç®€è¿°:</strong> å»ºè®® Refly å¢åŠ ç±»ä¼¼ Boardmix çš„ AI æ€ç»´å¯¼å›¾äº¤äº’åŠŸèƒ½ï¼Œèƒ½å¤ŸåŸºäºèŠ‚ç‚¹è¿›è¡ŒäºŒæ¬¡é—®ç­”å’Œæ‰©å±•ï¼Œå¹¶æ”¯æŒå¯¼å‡ºã€‚</p>
                    <p class="issue-meta">æå‡ºäºº: åŒ—äº¬-aiäº§å“ç»ç†-logo (15:59)</p>
                </div>
                <div class="issue-item">
                    <span class="tag issue-type">help wanted</span>
                    <p><strong>é—®é¢˜ç®€è¿°:</strong> å¯»æ±‚å¯åœ¨ä¸­å›½ä½¿ç”¨çš„ç¾å›½ eSIM å·ç æ–¹æ¡ˆï¼Œä¸»è¦ç”¨äºæ¥æ”¶çŸ­ä¿¡éªŒè¯ï¼Œéœ€è¦ä¿å·ã€‚</p>
                    <p class="issue-meta">æå‡ºäºº: ç½—åŸº (15:16)</p>
                </div>
                 <div class="issue-item">
                    <span class="tag issue-type">question</span>
                    <p><strong>é—®é¢˜ç®€è¿°:</strong> è¯¢é—® Windows ä¸Šå¥½ç”¨çš„å…è´¹å¬æ­Œè½¯ä»¶ã€‚</p>
                    <p class="issue-meta">æå‡ºäºº: å’¯å’¯ (15:51)</p>
                </div>
            </div>
        </div>

        <!-- MindMap -->
        <div class="card mindmap-card" id="mindmap_container_wrapper">
            <div class="card-icon-bg"><i class="fas fa-project-diagram"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">æ ¸å¿ƒå†…å®¹å…³ç³»å›¾</h2>
                <div id="mindmap"></div>
            </div>
            <button class="mindmap-fullscreen-btn" onclick="toggleMindmapFullscreen()">
                <i class="fas fa-expand"></i> å…¨å±
            </button>
        </div>
        
        <!-- é‡è¦æ¶ˆæ¯æ±‡æ€» -->
        <div class="card important-msg-card grid-col-span-6">
            <div class="card-icon-bg"><i class="fas fa-bullhorn"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">é‡è¦æ¶ˆæ¯æ±‡æ€»</h2>
                <div class="important-msg-item">
                    <span class="priority high">å…¬å‘Š</span>
                    <div class="msg-content">
                        <strong>Refly å®˜æ–¹é¢„å‘Šé‡å¤§æ›´æ–°</strong>
                        <p class="msg-meta">å‘é€è€…: ä¸Šæµ· - Refly - Tom | æ—¶é—´: 21:17</p>
                        <p class="mt-2">Tom åœ¨ç¾¤å†…é€éœ²ï¼Œå›¢é˜Ÿæ­£åœ¨ä¸º Refly å‡†å¤‡ä¸€æ¬¡"èƒ½åŠ›ç„•æ–°"ï¼Œå¹¶ç”¨"ä¸€é£å†²å¤©"æ¥å½¢å®¹è¿™æ¬¡æ›´æ–°ï¼Œé¢„ç¤ºç€å°†æœ‰é‡å¤§åŠŸèƒ½æˆ–æ¶æ„å‡çº§ã€‚Agent åŠŸèƒ½ä¹Ÿå·²æä¸Šæ—¥ç¨‹ï¼Œå³å°†å‘å¸ƒã€‚</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é‡è¦é“¾æ¥ä¸èµ„æº -->
        <div class="card resources-card grid-col-span-4">
            <div class="card-icon-bg"><i class="fas fa-link"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">é‡è¦é“¾æ¥ä¸èµ„æº</h2>
                <a href="http://mp.weixin.qq.com/s?__biz=MzIyNTE1NTAzOA==&mid=2648668772&idx=1&sn=bc63f0b8871a9f258e59208e1446e69e" target="_blank" class="resource-link">
                    <span class="tag">æ•™ç¨‹</span>
                    <p class="title">é£ä¹¦å¤šç»´è¡¨æ ¼æç¤ºè¯ç®¡ç†æ’ä»¶</p>
                    <p class="details">é€šè¿‡æ’ä»¶å°†æç¤ºè¯åº“å»ºåœ¨è‡ªå·±çš„é£ä¹¦ä¸Šï¼Œå®‰å…¨ä¾¿æ·ã€‚åˆ†äº«è€…: ä¸”å¬ (16:40)</p>
                </a>
                <a href="https://github.com/blinkospace/blinko" target="_blank" class="resource-link">
                    <span class="tag">èµ„æº</span>
                    <p class="title">Blinko å¼€æºé—ªå¿µç¬”è®°</p>
                    <p class="details">ä¸€æ¬¾æ”¯æŒè‡ªéƒ¨ç½²ã€å…¨å¹³å°ã€é›†æˆAIå’Œæ’ä»¶ç³»ç»Ÿçš„é—ªå¿µ/ç¬”è®°å·¥å…·ã€‚åˆ†äº«è€…: Time will tell (20:17)</p>
                </a>
                <a href="https://github.com/lyswhut/lx-music-desktop" target="_blank" class="resource-link">
                    <span class="tag">èµ„æº</span>
                    <p class="title">lx-music-desktop æ´›é›ªéŸ³ä¹åŠ©æ‰‹</p>
                    <p class="details">ä¸€æ¬¾å¼€æºçš„æ¡Œé¢éŸ³ä¹è½¯ä»¶ï¼Œéœ€è‡ªè¡Œé…ç½®éŸ³æºã€‚åˆ†äº«è€…: åŒ—äº¬-éæŠ€æœ¯-ç´ äººæå®¢ (15:55)</p>
                </a>
            </div>
        </div>
        
        <!-- è¯å” æ¦œ -->
        <div class="card chatter-card grid-col-span-2">
            <div class="card-icon-bg"><i class="fas fa-comments"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">è¯å” æ¦œ Top 5</h2>
                <div class="chatter-list">
                    <div class="chatter-item"><span class="rank">1</span><span class="nickname">Time will tell</span><span class="msg-count">60+</span></div>
                    <div class="chatter-item"><span class="rank">2</span><span class="nickname">åŒ—äº¬-aiäº§å“ç»ç†-logo</span><span class="msg-count">40+</span></div>
                    <div class="chatter-item"><span class="rank">3</span><span class="nickname">æ­¦æ±‰-æœ¨å­ä¸æ˜¯æœ¨å­ç‹¸</span><span class="msg-count">30+</span></div>
                    <div class="chatter-item"><span class="rank">4</span><span class="nickname">Fann-æ­¦æ±‰-ç ”å‘</span><span class="msg-count">25+</span></div>
                    <div class="chatter-item"><span class="rank">5</span><span class="nickname">ä¸”å¬</span><span class="msg-count">20+</span></div>
                </div>
                <div class="mt-auto pt-4">
                    <span class="tag">å·¥å…·å‘ç°å®¶</span> <span class="tag">æ°›å›´æ‹…å½“</span> <span class="tag">æé—®è¾¾äºº</span> <span class="tag">æ·±åº¦æ€è€ƒ</span>
                </div>
            </div>
        </div>

        <!-- è¯äº‘ -->
        <div class="card wordcloud-card grid-col-span-4">
            <div class="card-icon-bg"><i class="fas fa-cloud"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">è¯äº‘</h2>
                <div class="css-wordcloud">
                    <span class="word-item" style="font-size: 3rem; color: var(--primary-accent-color);">Refly</span>
                    <span class="word-item" style="font-size: 2.8rem;">æç¤ºè¯</span>
                    <span class="word-item" style="font-size: 2.6rem;">å·¥å…·</span>
                    <span class="word-item" style="font-size: 2.5rem; color: var(--primary-accent-color);">ç®¡ç†</span>
                    <span class="word-item" style="font-size: 2.3rem;">AI</span>
                    <span class="word-item" style="font-size: 2.1rem;">åˆ†äº«</span>
                    <span class="word-item" style="font-size: 2.0rem;">ä½¿ç”¨</span>
                    <span class="word-item" style="font-size: 1.9rem;">æ’ä»¶</span>
                    <span class="word-item" style="font-size: 1.8rem;">æ„Ÿè§‰</span>
                    <span class="word-item" style="font-size: 1.7rem; color: var(--primary-accent-color);">ä¼šå‘˜</span>
                    <span class="word-item" style="font-size: 1.6rem;">å¹³å°</span>
                    <span class="word-item" style="font-size: 1.5rem;">å¼€æº</span>
                    <span class="word-item" style="font-size: 1.5rem;">é—®é¢˜</span>
                    <span class="word-item" style="font-size: 1.4rem;">æ°¸ä¹…</span>
                    <span class="word-item" style="font-size: 1.4rem;">æ”¯æŒ</span>
                    <span class="word-item" style="font-size: 1.3rem;">æ•°æ®</span>
                    <span class="word-item" style="font-size: 1.3rem;">ç”»å¸ƒ</span>
                    <span class="word-item" style="font-size: 1.2rem;">åƒåœ¾</span>
                    <span class="word-item" style="font-size: 1.2rem;">é£ä¹¦</span>
                    <span class="word-item" style="font-size: 1.1rem;">Blinko</span>
                    <span class="word-item" style="font-size: 1.1rem;">å„¿å­</span>
                    <span class="word-item" style="font-size: 1.0rem;">ç„•æ–°</span>
                </div>
            </div>
        </div>
        
        <!-- äºŒç»´ç  -->
        <div class="card qrcode-card grid-col-span-2">
            <div class="card-icon-bg"><i class="fas fa-qrcode"></i></div>
            <div class="content-wrapper">
                <h2 class="card-title">æ‰«ç çœ‹æ—¥æŠ¥</h2>
                <div class="qrcode-container">
                    <div class="qrcode-item">
                        <div id="qrcode-yesterday"></div>
                        <p>æ˜¨æ—¥æ—¥æŠ¥ (2025-06-08)</p>
                    </div>
                    <div class="qrcode-item">
                        <div id="qrcode-today"></div>
                        <p>ä»Šæ—¥æ—¥æŠ¥ (2025-06-09)</p>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!-- å…¨å±è„‘å›¾å®¹å™¨ -->
<div class="mindmap-fullscreen-container" id="mindmap_fullscreen_container">
    <button class="mindmap-fullscreen-btn" onclick="toggleMindmapFullscreen()">
        <i class="fas fa-compress"></i> é€€å‡ºå…¨å±
    </button>
    <h2 class="fullscreen-title">æ ¸å¿ƒå†…å®¹å…³ç³»å›¾</h2>
    <div id="mindmap_fullscreen"></div>
</div>

<script>
    // å¯¼å‡ºå›¾ç‰‡åŠŸèƒ½
    function exportReportImage() {
        const reportElement = document.getElementById('daily-report-content');
        const exportButton = document.querySelector('.export-btn');
        
        // æ£€æŸ¥html2canvasæ˜¯å¦æ­£ç¡®åŠ è½½
        if (typeof html2canvas === 'undefined') {
            alert('html2canvasåº“æœªæ­£ç¡®åŠ è½½ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
            console.error('html2canvas is not defined');
            return;
        }
        
        // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
        exportButton.innerHTML = '<i class="fas fa-spinner fa-spin"></i> æ­£åœ¨ç”Ÿæˆ...';
        exportButton.style.opacity = '0.7';
        
        // ç¡®ä¿æ‰€æœ‰å›¾ç‰‡å’Œèµ„æºåŠ è½½å®Œæˆ
        setTimeout(() => {
            // æ»šåŠ¨åˆ°é¡¶éƒ¨ç¡®ä¿æ­£ç¡®æ¸²æŸ“
            window.scrollTo(0, 0);
            
            // ä¼˜åŒ–æ¸²æŸ“è®¾ç½®
            html2canvas(reportElement, {
                backgroundColor: getComputedStyle(document.body).backgroundColor,
                scale: 1.5, // å¹³è¡¡è´¨é‡å’Œæ€§èƒ½
                useCORS: true,
                logging: true, // å¯ç”¨æ—¥å¿—è®°å½•
                allowTaint: true, // å…è®¸è·¨åŸŸå›¾ç‰‡
                foreignObjectRendering: false, // é¿å…æŸäº›æµè§ˆå™¨çš„å…¼å®¹æ€§é—®é¢˜
                removeContainer: true, // æ¸…ç†ä¸´æ—¶å…ƒç´ 
                imageTimeout: 15000, // å¢åŠ å›¾ç‰‡åŠ è½½è¶…æ—¶æ—¶é—´
                onclone: function(clonedDoc) {
                    // åœ¨å…‹éš†çš„æ–‡æ¡£ä¸­éšè—å¯¼å‡ºæŒ‰é’®
                    const clonedButton = clonedDoc.querySelector('.export-btn');
                    if (clonedButton) clonedButton.style.display = 'none';
                    
                    // ç¡®ä¿æ‰€æœ‰å›¾åƒéƒ½å·²åŠ è½½
                    const images = clonedDoc.querySelectorAll('img');
                    images.forEach(img => {
                        if (!img.complete) {
                            console.log('ç­‰å¾…å›¾åƒåŠ è½½:', img.src);
                        }
                    });
                }
            }).then(canvas => {
                try {
                    // ä½¿ç”¨è¾ƒä½çš„å›¾åƒè´¨é‡ä»¥å‡å°æ–‡ä»¶å¤§å°
                    const imgData = canvas.toDataURL('image/png', 0.8);
                    
                    const link = document.createElement('a');
                    link.download = 'Refly-AI-ç¾¤èŠæ—¥æŠ¥-2025-06-09.png';
                    link.href = imgData;
                    document.body.appendChild(link); // ç¡®ä¿é“¾æ¥è¢«æ·»åŠ åˆ°DOM
                    link.click();
                    document.body.removeChild(link); // æ¸…ç†
                    console.log('å›¾ç‰‡å¯¼å‡ºæˆåŠŸ');
                } catch (error) {
                    console.error('å¯¼å‡ºå›¾ç‰‡å¤±è´¥:', error);
                    alert('å¯¼å‡ºå›¾ç‰‡å¤±è´¥: ' + error.message);
                } finally {
                    // æ¢å¤æŒ‰é’®çŠ¶æ€
                    exportButton.innerHTML = '<i class="fas fa-camera"></i> å¯¼å‡ºå›¾ç‰‡';
                    exportButton.style.opacity = '1';
                }
            }).catch(err => {
                console.error('html2canvasé”™è¯¯:', err);
                alert('ç”Ÿæˆå›¾ç‰‡å¤±è´¥: ' + err.message);
                exportButton.innerHTML = '<i class="fas fa-camera"></i> å¯¼å‡ºå›¾ç‰‡';
                exportButton.style.opacity = '1';
            });
        }, 800); // ç»™äºˆæ›´å¤šæ—¶é—´è®©é¡µé¢å®Œå…¨æ¸²æŸ“
    }

    // äºŒç»´ç ç”Ÿæˆ
    new QRCode(document.getElementById("qrcode-yesterday"), {
        text: "https://refly.ai/share/code/cod-wtiphfl1rwqzrzbpyz714w4v",
        width: 100,
        height: 100,
    });

    new QRCode(document.getElementById("qrcode-today"), {
        text: "https://refly.ai/share/code/cod-iulhskpldifopch513em04e8",
        width: 100,
        height: 100,
    });
    
    // æ€ç»´å¯¼å›¾
    function initJsMind(){
        const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary-accent-color').trim();
        const cardBgColor = getComputedStyle(document.documentElement).getPropertyValue('--card-bg-color').trim();
        const textColor = getComputedStyle(document.documentElement).getPropertyValue('--text-color').trim();
        const borderColor = getComputedStyle(document.documentElement).getPropertyValue('--border-color').trim();

        var mind = {
            meta:{
                name: "ç¾¤èŠæ ¸å¿ƒå†…å®¹å…³ç³»å›¾",
                author: "ç¾¤èŠæ—¥æŠ¥ç”Ÿæˆå™¨",
                version: "1.0"
            },
            format: "node_array",
            data:[
                {id:"root", isroot:true, topic:"ç¾¤èŠç²¾å (06-09)", "background-color": primaryColor, "foreground-color":"#fff"},

                {id:"prompt_mgmt", parentid:"root", topic:"æç¤ºè¯ç®¡ç†ä¸å“²å­¦"},
                {id:"pm_tools", parentid:"prompt_mgmt", topic:"å·¥å…·æ¢è®¨", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"pm_tool_feishu", parentid:"pm_tools", topic:"é£ä¹¦æ’ä»¶ (æ•°æ®ç§æœ‰)"},
                {id:"pm_tool_blinko", parentid:"pm_tools", topic:"Blinko (å¼€æºé—ªå¿µ)"},
                {id:"pm_tool_raycast", parentid:"pm_tools", topic:"Raycast/uTools (å¿«æ·å¯åŠ¨)"},
                {id:"pm_philosophy", parentid:"prompt_mgmt", topic:"æ ¸å¿ƒç†å¿µ", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"pm_phil_scene", parentid:"pm_philosophy", topic:"é¢å‘åœºæ™¯ vs é¢å‘æ¨¡å‹"},
                {id:"pm_phil_version", parentid:"pm_philosophy", topic:"ç‰ˆæœ¬/è¿­ä»£/æ¯”å¯¹"},

                {id:"refly_dev", parentid:"root", topic:"Reflyäº§å“è¿›åŒ–è®º"},
                {id:"rd_future", parentid:"refly_dev", topic:"å®˜æ–¹é¢„å‘Š: èƒ½åŠ›ç„•æ–°", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"rd_agent", parentid:"rd_future", topic:"AgentåŠŸèƒ½å³å°†ä¸Šçº¿"},
                {id:"rd_community", parentid:"refly_dev", topic:"ç¤¾åŒºå£°éŸ³", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"rd_comm_boardmix", parentid:"rd_community", topic:"çµæ„Ÿ: Boardmixæ€ç»´å¯¼å›¾äº¤äº’"},
                {id:"rd_comm_member", parentid:"rd_community", topic:"è¯‰æ±‚: æ°¸ä¹…ä¼šå‘˜ & UIä¼˜åŒ–"},
                
                {id:"tool_share", parentid:"root", topic:"å·¥å…·ç”Ÿæ€åœˆåˆ†äº«"},
                {id:"ts_ai", parentid:"tool_share", topic:"AIä¸ç¼–ç¨‹", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"ts_ai_perplexity", parentid:"ts_ai", topic:"Perplexity (ä¸‰æ˜Ÿåˆä½œ)"},
                {id:"ts_ai_cursor", parentid:"ts_ai", topic:"Cursor vs Trae (Pengçˆ¶å­é”è¯„)"},
                {id:"ts_utils", parentid:"tool_share", topic:"æ•ˆç‡å·¥å…·", "background-color": cardBgColor, "foreground-color": textColor},
                {id:"ts_util_music", parentid:"ts_utils", topic:"å¬æ­Œè½¯ä»¶ (lx-music)"},
                {id:"ts_util_pdf", parentid:"ts_utils", topic:"PDFè½¬æ¢ (xpdf.cn)"},
                {id:"ts_util_esim", parentid:"ts_utils", topic:"eSIMä¿å·æ–¹æ¡ˆ"},
            ]
        };
        
        var options = {
            container : 'mindmap',
            editable : false,
            theme : null,
            view: {
                engine: 'svg', 
                hmargin: 60,
                vmargin: 30,
                line_width: 1.5,
                line_color: primaryColor
            },
            layout: { hspace: 50, vspace: 25, pspace: 13 },
            shortcut: { enable: false }
        };
        
        var jm = new jsMind(options);
        jm.show(mind);
        
        window.jmInstance = jm;
        window.mindData = mind;
    }

    if (typeof jsMind !== 'undefined') {
        initJsMind();
    } else {
        window.addEventListener('load', initJsMind);
    }

    let isFullscreen = false;
    let fullscreenJm = null;

    function toggleMindmapFullscreen() {
        const fullscreenContainer = document.getElementById('mindmap_fullscreen_container');
        if (!isFullscreen) {
            fullscreenContainer.classList.add('active');
            isFullscreen = true;
            setTimeout(() => initFullscreenMindmap(), 100);
            document.body.style.overflow = 'hidden';
        } else {
            fullscreenContainer.classList.remove('active');
            isFullscreen = false;
            if (fullscreenJm) {
                document.getElementById('mindmap_fullscreen').innerHTML = '';
                fullscreenJm = null;
            }
            document.body.style.overflow = 'auto';
        }
    }

    function initFullscreenMindmap() {
        if (!window.mindData) return;
        try {
            const primaryColor = getComputedStyle(document.documentElement).getPropertyValue('--primary-accent-color').trim();
            const options = {
                container: 'mindmap_fullscreen', editable: false, theme: null,
                view: { engine: 'svg', hmargin: 100, vmargin: 60, line_width: 2, line_color: primaryColor },
                layout: { hspace: 80, vspace: 40, pspace: 20 },
                shortcut: { enable: false }
            };
            fullscreenJm = new jsMind(options);
            fullscreenJm.show(window.mindData);
            setTimeout(() => { if (fullscreenJm) fullscreenJm.resize(); }, 200);
        } catch (error) {
            console.error('Fullscreen mindmap initialization failed:', error);
        }
    }

    document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && isFullscreen) {
            toggleMindmapFullscreen();
        }
    });

    window.addEventListener('resize', function() {
        if (window.jmInstance && !isFullscreen) {
            clearTimeout(window.resizeTimer);
            window.resizeTimer = setTimeout(() => window.jmInstance.resize(), 300);
        }
        if (fullscreenJm && isFullscreen) {
            clearTimeout(window.fullscreenResizeTimer);
            window.fullscreenResizeTimer = setTimeout(() => fullscreenJm.resize(), 300);
        }
    });

</script>
</body>
</html>